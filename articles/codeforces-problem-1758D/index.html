<!DOCTYPE html>
<html>
    <head>
        <title>chirprush - Codeforces: Problem 1758D</title>

        <link rel="stylesheet" href="/assets/css/style.css">
        <link rel="stylesheet" href="/assets/css/panel.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Katex -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

        
        
        <meta charset="utf-8">
    </head>

    <body>
        <div id="side-nav" class="side-panel">
            <div class="panel-content">
                <div class="panel-grid">
                    <img class="grid-pfp" src="/assets/images/pfp.svg"></img>
                    <h2 class="grid-title">Rushil Surti</h1>
                    <p class="grid-email">rush040507@gmail.com</p>
                    <div class="grid-icons"><a href="https://www.github.com/chirprush/" target="_blank"><i class="fa-brands fa-github"></i></a> <a href="https://www.youtube.com/channel/UCSc-MTo8KGPDMLszD6jYjxA" target="_blank"><i class="fa-brands fa-youtube"></i></a> <a href="https://www.instagram.com/chirprush/" target="_blank"><i class="fa-brands fa-instagram"></i></a> <a href="https://math.stackexchange.com/users/1128617/chirpyboat73" target="_blank"><i class="fa-brands fa-stack-exchange"></i></a></div>
                </div>

                <hr class="separator" />

                <div class="description">
                    <h2>Description</h2>
                    <div class="side-line">
                        <p>A nice 1800 rated Codeforces problem on constructing an integer sequence. Multiple attempts, because an initial strategy doesn't always work but is nice to document.</p>
                    </div>
                </div>

                <div class="contents">
                    <h2>Contents</h2>
                    <div class="side-line">
                        <ul>
                        <li><a href="#problem">Problem</a></li>
                        <li><a href="#solution">Solution</a><ul>
                        <li><a href="#first-attempt-integer-overflow">First Attempt (Integer Overflow)</a></li>
                        <li><a href="#correct-attempt">Correct Attempt</a></li>
                        </ul></li>
                        </ul>
                        <!--
                        <ul>
                            <li><b>Section 1.</b> Sample text</li>
                            <li><ul>
                                <li><b>Section 1.1.</b> Some stuff</li>
                            </ul></li>
                            <li><b>Section 2.</b> More sample text</li>
                        </ul>
                        -->
                    </div>
                </div>

                <div class="navigation-container">
                    <a href="/index.html">Articles</a>
                    <a href="/tags.html">Tags</a>
                    <a href="/about.html">About Me</a>
                </div>
            </div>
        </div>

        <div class="content-wrapper">
            <div class="content">
                <h1>Codeforces: Problem 1758D</h1>

                <hr class="separator" />
                <div class="info-holder">
                    <span class="info-value"><b>Author:</b> Rushil Surti</span>
                    <span class="info-value"><b>Date:</b> March 9, 2024</span>
                    <span class="info-value"><b>Tags:</b>  <a href="/tags.html#codeforces"><span class="info-tag">codeforces</span></a>  <a href="/tags.html#number-theory"><span class="info-tag">number-theory</span></a> </span>
                </div>

                <h2 id="problem">Problem</h2>
                <div class="side-box">
                <p><strong>Problem.</strong> We must find <span class="math inline">\(n\)</span> distinct integers such that <span class="math display">\[
                    \max(a_1, a_2, \ldots, a_n) - \min(a_1, a_2, \ldots, a_n) = \sqrt{a_1 + a_2 + \cdots + a_n}
                .\]</span></p>
                </div>
                <h2 id="solution">Solution</h2>
                <p><strong>Observation.</strong> WLOG, let <span class="math inline">\(a_1 &lt; a_2 &lt; \cdots &lt; a_n\)</span>. The condition then turns into <span class="math display">\[
                \begin{align*}
                    a_n - a_1 &amp;= \sqrt{a_1 + a_2 + \cdots + a_n} \\
                    (a_n - a_1)^2 &amp;= a_1 + a_2 + \cdots + a_n.
                \end{align*}
                \]</span> We shall assume this ordering for the sequence moving forward.</p>
                <h3 id="first-attempt-integer-overflow">First Attempt (Integer Overflow)</h3>
                <p>Suppose that we turn this into an arithemtic sequence. Let <span class="math display">\[
                    a_i = a_1 + (i-1)d
                .\]</span> This transforms our condition into <span class="math display">\[
                \begin{align*}
                    (n-1)^2 d^2 &amp;= n a_1 + \frac{n(n-1)}{2} \cdot d \\
                    \implies a_1 &amp;= \frac{(n-1)^2 d^2}{n} - \frac{(n-1)d}{2} \\
                    &amp;= (n-1)d \left( \frac{(n-1)d}{n} - \frac{1}{2} \right).
                \end{align*}
                \]</span> If we take <span class="math inline">\(d\)</span> to be equal to <span class="math inline">\(2n\)</span>, then we get <span class="math display">\[
                    a_1 = n(n-1)(4n - 5)
                ,\]</span> which is always an integer for <span class="math inline">\(n \ge 2\)</span>, which is rather reassuring.</p>
                <p>The only problem is that this sequence of integers quickly blows up for larger <span class="math inline">\(n\)</span>. Unfortunately, the problem gives the constraint that <span class="math inline">\(1 \le a_i \le 10^9\)</span>, which means that we'll have to play around a bit more.</p>
                <h3 id="correct-attempt">Correct Attempt</h3>
                <p>Let us step away from arithmetic progressions and be a bit more general in our reasoning. Let us consider sequences such that <span class="math inline">\(a_n = a_1 + k\)</span> for some integer <span class="math inline">\(k \ge n - 1\)</span>. Thus, the main condition turns into <span class="math display">\[
                    k^2 = a_1 + a_2 + \cdots + a_n
                .\]</span> Let <span class="math inline">\(K\)</span> be the integer value such that <span class="math display">\[
                    k^2 = n a_1 + K + k
                ,\]</span> which tells us that <span class="math display">\[
                    a_1 = (k^2 - k - K) / n
                ,\]</span> so all we have to do is find valid values of <span class="math inline">\(k, K\)</span> such that <span class="math inline">\(n \mid k^2 - k - K\)</span>, and then we win.</p>
                <p>In order to get an idea of the values we can give to <span class="math inline">\(K\)</span>, we may bound it as follows: <span class="math display">\[
                \begin{align*}
                    \frac{(n-1)(n-2)}{2} \le K &amp;\le (k - 1) + (k - 2) + \cdots + (k - n + 2) \\
                    &amp;= (n-2)k - \frac{(n-1)(n-2)}{2}.
                \end{align*}
                \]</span> This gives us an interval of length <span class="math display">\[
                    (n-2)k - (n-1)(n-2) + 1
                ,\]</span> which is greater than <span class="math inline">\(n\)</span> for <span class="math inline">\(k \ge n + 1\)</span> for all <span class="math inline">\(n \ge 3\)</span> (so I suppose we can just hardcode the case for <span class="math inline">\(n = 2\)</span>).</p>
                <p>Motivated by this, let's suppose that <span class="math inline">\(k \equiv 1 \pmod{n}\)</span> and <span class="math inline">\(K \equiv 0 \pmod{n}\)</span>, so that the divisibility condition always hold true. With the above work, we can see that <span class="math inline">\(k = n + 1\)</span>, which allows us to determine the valid value of <span class="math inline">\(K\)</span> through examining the interval.</p>
            </div>
        </div>
    </body>
</html>
